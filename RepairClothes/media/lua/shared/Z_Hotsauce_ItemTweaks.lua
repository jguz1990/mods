Events.OnGameBoot.Add(function()
	--if getActivatedMods():contains("ItemTweakerAPI") then
	--require("ItemTweaker_Core");
	--else return end

	TweakItem("Base.DogfoodOpen","Tags", "UseHotSauce")
	TweakItem("Base.CannedCornedBeefOpen","Tags", "UseHotSauce")
	TweakItem("Base.CannedChiliOpen","Tags", "UseHotSauce")
	TweakItem("Base.CannedBologneseOpen","Tags", "UseHotSauce")
	TweakItem("Base.CannedCarrotsOpen","Tags", "UseHotSauce")
	TweakItem("Base.CannedCornOpen","Tags", "UseHotSauce")
	TweakItem("Base.CannedMushroomSoupOpen","Tags", "UseHotSauce")
	TweakItem("Base.CannedPeasOpen","Tags", "UseHotSauce")
	TweakItem("Base.CannedPotatoOpen","Tags", "UseHotSauce")
	TweakItem("Base.CannedSardinesOpen","Tags", "UseHotSauce")
	TweakItem("Base.CannedTomatoOpen","Tags", "UseHotSauce")
	
	TweakItem("Base.TinnedSoupOpen","Tags", "UseHotSauce")
	TweakItem("Base.TunaTinOpen","Tags", "UseHotSauce")
	TweakItem("Base.OpenBeans","Tags", "UseHotSauce")
	
	TweakItem("Base.MushroomGeneric1","Tags", "UseHotSauce")	
	TweakItem("Base.MushroomGeneric2","Tags", "UseHotSauce")	
	TweakItem("Base.MushroomGeneric3","Tags", "UseHotSauce")	
	TweakItem("Base.MushroomGeneric4","Tags", "UseHotSauce")	
	TweakItem("Base.MushroomGeneric5","Tags", "UseHotSauce")	
	TweakItem("Base.MushroomGeneric6","Tags", "UseHotSauce")	
	TweakItem("Base.MushroomGeneric7","Tags", "UseHotSauce")
	
	TweakItem("Base.Onion","Tags", "UseHotSauce")	
	TweakItem("Base.Lettuce","Tags", "UseHotSauce")	
	TweakItem("Base.BellPepper","Tags", "UseHotSauce")	
	TweakItem("Base.Avocado","Tags", "UseHotSauce")	
	TweakItem("Base.Zucchini","Tags", "UseHotSauce")	
	TweakItem("Base.Peas","Tags", "UseHotSauce")	
	TweakItem("Base.Carrots","Tags", "UseHotSauce")	
	TweakItem("Base.Broccoli","Tags", "UseHotSauce")	
	TweakItem("Base.Corn","Tags", "UseHotSauce")	
	TweakItem("Base.Eggplant","Tags", "UseHotSauce")	
	TweakItem("Base.Leek","Tags", "UseHotSauce")
	
	
	TweakItem("Base.Catfish","Tags", "UseHotSauce")	
	TweakItem("Base.Bass","Tags", "UseHotSauce")	
	TweakItem("Base.Perch","Tags", "UseHotSauce")	
	TweakItem("Base.Crappie","Tags", "UseHotSauce")	
	TweakItem("Base.Panfish","Tags", "UseHotSauce")	
	TweakItem("Base.Pike","Tags", "UseHotSauce")	
	TweakItem("Base.Trout","Tags", "UseHotSauce")	
	TweakItem("Base.Baitfish","Tags", "UseHotSauce")	


	TweakItem("Base.FishFillet","Tags", "UseHotSauce")	
	TweakItem("Base.Hotdog","Tags", "UseHotSauce")	
	TweakItem("Base.MuttonChop","Tags", "UseHotSauce")
	TweakItem("Base.PorkChop","Tags", "UseHotSauce")	
	TweakItem("Base.Rabbitmeat","Tags", "UseHotSauce")	
	TweakItem("Base.Smallanimalmeat","Tags", "UseHotSauce")	
	TweakItem("Base.Smallbirdmeat","Tags", "UseHotSauce")	
	TweakItem("Base.ChickenFried","Tags", "UseHotSauce")
	TweakItem("Base.MeatPatty","Tags", "UseHotSauce")	
	TweakItem("Base.BeefJerky","Tags", "UseHotSauce")	
	TweakItem("Base.Corndog","Tags", "UseHotSauce")	
	TweakItem("Base.Tofu","Tags", "UseHotSauce")	
	TweakItem("Base.FrogMeat","Tags", "UseHotSauce")
	TweakItem("Base.Steak","Tags", "UseHotSauce")	
	TweakItem("Base.Salmon","Tags", "UseHotSauce")	
	TweakItem("Base.Egg","Tags", "UseHotSauce")	
	TweakItem("Base.Chicken","Tags", "UseHotSauce")	
	TweakItem("Base.Ham","Tags", "UseHotSauce")
	TweakItem("Base.HamSlice","Tags", "UseHotSauce")
	
	
	TweakItem("Base.WaterPotRice","Tags", "UseHotSauce")	
	TweakItem("Base.WaterPotPasta","Tags", "UseHotSauce")	
	TweakItem("Base.WaterSaucepanRice","Tags", "UseHotSauce")	
	TweakItem("Base.WaterSaucepanPasta","Tags", "UseHotSauce")	
	TweakItem("Base.SoupBowl","Tags", "UseHotSauce")	
	TweakItem("Base.StewBowl","Tags", "UseHotSauce")	
	TweakItem("Base.PotOfSoup","Tags", "UseHotSauce")	
	TweakItem("Base.PotOfSoupRecipe","Tags", "UseHotSauce")		
	TweakItem("Base.PotOfStew","Tags", "UseHotSauce")	
	
	TweakItem("Base.Worm","Tags", "UseHotSauce")	
	TweakItem("Base.WildEggs","Tags", "UseHotSauce")	
	TweakItem("Base.Cockroach","Tags", "UseHotSauce")	
	TweakItem("Base.Cricket","Tags", "UseHotSauce")	
	TweakItem("Base.Grasshopper","Tags", "UseHotSauce")	
	
	
	TweakItem("Base.GrilledCheese","Tags", "UseHotSauce")	
	TweakItem("Base.BeanBowl","Tags", "UseHotSauce")
	TweakItem("Base.CheeseSandwich","Tags", "UseHotSauce")		
	TweakItem("Base.RamenBowl","Tags", "UseHotSauce")		
	TweakItem("Base.TVDinner","Tags", "UseHotSauce")		
	TweakItem("Base.PastaPan","Tags", "UseHotSauce")		
	TweakItem("Base.RicePan","Tags", "UseHotSauce")			
	TweakItem("Base.PastaPot","Tags", "UseHotSauce")		
	TweakItem("Base.RicePot","Tags", "UseHotSauce")			
	TweakItem("Base.PastaBowl","Tags", "UseHotSauce")		
	TweakItem("Base.RiceBowl","Tags", "UseHotSauce")
			
	
	TweakItem("Base.PanFriedVegetables","Tags", "UseHotSauce")	
	TweakItem("Base.PanFriedVegetables2","Tags", "UseHotSauce")	
	TweakItem("Base.GriddlePanFriedVegetables","Tags", "UseHotSauce")	
	TweakItem("Base.BreadSlices","Tags", "UseHotSauce")	
	TweakItem("Base.Sandwich","Tags", "UseHotSauce")			
	
	TweakItem("Base.Burger","Tags", "UseHotSauce")	
	TweakItem("Base.BurgerRecipe","Tags", "UseHotSauce")	
	TweakItem("Base.Pizza","Tags", "UseHotSauce")	
	TweakItem("Base.Fries","Tags", "UseHotSauce")	
	
	
	TweakItem("farming.BloomingBroccoli","Tags", "UseHotSauce")		
	TweakItem("farming.RedRadish","Tags", "UseHotSauce")		
	TweakItem("farming.Tomato","Tags", "UseHotSauce")		
	TweakItem("farming.Potato","Tags", "UseHotSauce")		
	TweakItem("farming.Cabbage","Tags", "UseHotSauce")	
	TweakItem("farming.Bacon","Tags", "UseHotSauce")		
	TweakItem("farming.BaconRashers","Tags", "UseHotSauce")		
	TweakItem("farming.Salad","Tags", "UseHotSauce")	
	
end)

function Recipe_GetItemTypes_UseHotSauce(scriptItems)
	scriptItems:addAll(getScriptManager():getItemsTag("UseHotSauce"))
end

function Recipe_GetItemTypes_IsHotSauce(scriptItems)
	scriptItems:addAll(getScriptManager():getItemsTag("IsHotSauce"))
end




function UseHotSauce(items, result, player)
	--local item = items:get(0)
	--local mod_data = item:getModData()
	--print("Hotsauce1")
	local foodItem
	local hotSauce
	 for i=0, items:size()-1 do
       if items:get(i):getTags():contains("UseHotSauce") then
           foodItem = items:get(i);
       elseif  items:get(i):getTags():contains("IsHotSauce") then
           hotSauce = items:get(i);
       end
    end	
	if not foodItem or not hotSauce then return end
	
	--print("Hotsauce2")
	local hotData = hotSauce:getModData()
	local hotSauceValue = hotData.hotSauceValue
	
	--print("Hotsauce " .. tostring(hotSauceValue))
	foodItem:setBoredomChange(foodItem:getBoredomChange() - hotSauceValue)
	foodItem:setThirstChange(foodItem:getThirstChange() + (hotSauceValue/200))
	local unhappy = foodItem:getUnhappyChange()
	--getPlayer():Say( tostring(unhappy), 0.0, 1.0, 0.0, UIFont.Dialogue, 30.0, "radio")
	--getPlayer():Say( tostring(hotSauceValue), 1.0, 0.0, 0.0, UIFont.Dialogue, 30.0, "radio")
	--local newUnhappy = unhappy - hotSauceValue
	--if unhappy < 1 then hotSauceValue = 0 end
	if unhappy < 0 then hotSauceValue = 0 end
	if unhappy < hotSauceValue then hotSauceValue = unhappy end
	local newUnhappy = unhappy - hotSauceValue
	--getPlayer():Say( tostring(newUnhappy), 0.0, 0.0, 1.0, UIFont.Dialogue, 30.0, "radio")
	if newUnhappy < foodItem:getUnhappyChange() then 
		foodItem:setUnhappyChange(newUnhappy)
	end
	--if foodItem:getName():contains("with Hot Sauce") then return end
	local script = foodItem:getScriptItem()
	local newName = script:getDisplayName()
	newName = (newName .. " with Hot Sauce")
	foodItem:setName(newName)
	--print("Name: " .. newName)
	--getPlayer():Say( newName, 0.0, 1.0, 0.0, UIFont.Dialogue, 30.0, "radio")
end