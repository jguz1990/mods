if SuperSurvivor then
	old_SuperSurvivor_update = SuperSurvivor.update
	--print("YOWZA")
--end

	function SuperSurvivor:update()

		--print("TICK")
		
		if(self:isDead()) then return false end
		
		local inv = self.player:getInventory()	
		--local inv = self.player:getWornItems()
		local items = inv:getItems()
		--local items = self.player:getWornItems()
		for i=1, items:size()-1 do
			local item = items:get(i)
			--if item ~= nil and item:isEquipped() == true then 
			if item ~= nil then 
										local itemType = item:getType(); 
					local player= self.player	
						--print("armor X")
						--print(tostring(itemType))
					if GlobalArmor[itemType] ~= nil and GlobalArmor[itemType]["Location"] ~= nil then
						--print("armor Y")
						--print(tostring(GlobalArmor[itemType]))
						--print(tostring(GlobalArmor[itemType]["Location"]))
						if(GlobalArmor[item:getType()]["Location"] == "Arms") then 
							if item:isEquipped() == true then
								--EquipOnArms(item, player,1) 
							else
								EquipOnArms(item, player,0) 						
							end
						elseif(GlobalArmor[item:getType()]["Location"] == "UpperArms") then 
							if item:isEquipped() == true then
								--EquipOnArms(item, player,1) 
							else
								EquipOnUpperArms(item, player,0) 						
							end
						elseif(GlobalArmor[item:getType()]["Location"] == "LowerArms") then 
							if item:isEquipped() == true then
								--EquipOnArms(item, player,1) 
							else
								EquipOnLowerArms(item, player,0) 						
							end
						elseif(GlobalArmor[item:getType()]["Location"] == "Head") then 
							if item:isEquipped() == true  then
								--EquipOnHead(item, player,1) 
							else
								EquipOnHead(item, player,0) 						
							end
						elseif(GlobalArmor[item:getType()]["Location"] == "Legs") then 
							if item:isEquipped() == true  then
								--EquipOnLegs(item, player,1) 
							else
								EquipOnLegs(item, player,0) 						
							end
						elseif(GlobalArmor[item:getType()]["Location"] == "Body") then 
							if item:isEquipped() == true  then
								--EquipOnChest(item, player,1)
							else
								EquipOnChest(item, player,0)						
							end
						elseif(GlobalArmor[item:getType()]["Location"] == "Vest") then 
							if item:isEquipped() == true  then
								--EquipOnVest(item, player,1) 
							else
								EquipOnVest(item, player,0) 						
							end
						elseif(GlobalArmor[item:getType()]["Location"] == "Hands") then 
							if item:isEquipped() == true  then
								--EquipOnHands(item, player,1) 
							else
								EquipOnHands(item, player,0) 						
							end
						elseif(GlobalArmor[item:getType()]["Location"] == "Feet") then 
							if item:isEquipped() == true  then
								--EquipOnFeet(item, player,1) 
							else
								EquipOnFeet(item, player,0) 						
							end
						elseif(GlobalArmor[item:getType()]["Location"] == "Shield") then 
							if item:isEquipped() == true  then
								--EquipAsShield(item, player,1)
							else
								EquipAsShield(item, player,0)						
							end
					end
				end
			end
		end
		for i=1, items:size()-1 do
			local item = items:get(i)
			--if item ~= nil and item:isEquipped() == true then 
			if item ~= nil then 
					local itemType = item:getType(); 
					local player= self.player	
					if GlobalArmor[itemType] ~= nil and GlobalArmor[itemType]["Location"] ~= nil then
						--print("armor X")
						if(GlobalArmor[item:getType()]["Location"] == "Arms") then 
							if item:isEquipped() == true  then
								EquipOnArms(item, player,1) 
							else
								--EquipOnArms(item, player,0) 						
							end
						elseif(GlobalArmor[item:getType()]["Location"] == "UpperArms") then 
							if item:isEquipped() == true  then
								EquipOnUpperArms(item, player,1) 
							else
								--EquipOnArms(item, player,0) 						
							end
						elseif(GlobalArmor[item:getType()]["Location"] == "LowerArms") then 
							if item:isEquipped() == true  then
								EquipOnLowerArms(item, player,1) 
							else
								--EquipOnArms(item, player,0) 						
							end
						elseif(GlobalArmor[item:getType()]["Location"] == "Head") then 
							if item:isEquipped() == true  then
								EquipOnHead(item, player,1) 
							else
								--EquipOnHead(item, player,0) 						
							end
						elseif(GlobalArmor[item:getType()]["Location"] == "Legs") then 
							if item:isEquipped() == true  then
								EquipOnLegs(item, player,1) 
							else
								--EquipOnLegs(item, player,0) 						
							end
						elseif(GlobalArmor[item:getType()]["Location"] == "Body") then 
							if item:isEquipped() == true  then
								EquipOnChest(item, player,1)
							else
								--EquipOnChest(item, player,0)						
							end
						elseif(GlobalArmor[item:getType()]["Location"] == "Vest") then 
							if item:isEquipped() == true  then
								EquipOnVest(item, player,1) 
							else
								--EquipOnVest(item, player,0) 						
							end
						elseif(GlobalArmor[item:getType()]["Location"] == "Hands") then 
							if item:isEquipped() == true  then
								EquipOnHands(item, player,1) 
							else
								--EquipOnHands(item, player,0) 						
							end
						elseif(GlobalArmor[item:getType()]["Location"] == "Feet") then 
							if item:isEquipped() == true  then
								EquipOnFeet(item, player,1) 
							else
								--EquipOnFeet(item, player,0) 						
							end
						elseif(GlobalArmor[item:getType()]["Location"] == "Shield") then 
							if item:isEquipped() == true  then
								EquipAsShield(item, player,1)
							else
								--EquipAsShield(item, player,0)						
							end
					end
				end
			end
		end

		old_SuperSurvivor_update(self)
	end

end


