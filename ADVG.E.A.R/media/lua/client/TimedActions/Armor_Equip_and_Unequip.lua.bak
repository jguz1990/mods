local old_ISWearClothing_perform = ISWearClothing.perform

function ISWearClothing:perform()
	local item = self.item
	local player = self.character
	local itemType = item:getType();   
	print("TestX")
	print(item.getBodyLocation)
	
	if item.getBodyLocation == "Hat" then EquipOnHead(item, player,0) 
	
	elseif item.getBodyLocation == "Pants" then EquipOnLegs(item, player,0)
	
	elseif item.getBodyLocation == "Jacket" then EquipOnChest(item, player,0)
	
	elseif item.getBodyLocation == "TorsoExtra" then EquipOnVest(item, player,0)
	
	elseif item.getBodyLocation == "Hands" then EquipOnHands(item, player,0)
	
	elseif item.getBodyLocation == "Shoes" then EquipOnFeet(item, player,0)
	
	elseif item.getBodyLocation == "UpperArms" then EquipOnUpperArms(item, player,0)
	
	elseif item.getBodyLocation == "LowerArms" then EquipOnLowerArms(item, player,0)
	
	end
	
    if GlobalArmor[itemType] ~= nil and GlobalArmor[itemType]["Location"] ~= nil then
		--print("Armor Yes!!!!!!!!!!")
		if(GlobalArmor[item:getType()]["Location"] == "Arms") then EquipOnArms(item, player,1) 
		elseif(GlobalArmor[item:getType()]["Location"] == "Head") then EquipOnHead(item, player,1) 
		elseif(GlobalArmor[item:getType()]["Location"] == "Legs") then EquipOnLegs(item, player,1)
		elseif(GlobalArmor[item:getType()]["Location"] == "Body") then EquipOnChest(item, player,1)
		elseif(GlobalArmor[item:getType()]["Location"] == "Vest") then EquipOnVest(item, player,1)
		elseif(GlobalArmor[item:getType()]["Location"] == "Hands") then EquipOnHands(item, player,1)
		elseif(GlobalArmor[item:getType()]["Location"] == "Feet") then EquipOnFeet(item, player,1)
		elseif(GlobalArmor[item:getType()]["Location"] == "Shield") then EquipAsShield(item, player,1)
		
		elseif(GlobalArmor[item:getType()]["Location"] == "UpperArms") then EquipOnUpperArms(item, player,1) 		
		elseif(GlobalArmor[item:getType()]["Location"] == "LowerArms") then EquipOnLowerArms(item, player,1) 
		end
	end		
	old_ISWearClothing_perform (self)
end

local old_ISUnequipAction_perform = ISUnequipAction.perform

function ISUnequipAction:perform()

		local item = self.item
	local player = self.character
	local itemType = item:getType();    
    if GlobalArmor[itemType] ~= nil and GlobalArmor[itemType]["Location"] ~= nil then
		if(GlobalArmor[item:getType()]["Location"] == "Arms") then EquipOnArms(item, player, 0) 
		elseif(GlobalArmor[item:getType()]["Location"] == "Head") then EquipOnHead(item, player,0) 
		elseif(GlobalArmor[item:getType()]["Location"] == "Legs") then EquipOnLegs(item, player,0)
		elseif(GlobalArmor[item:getType()]["Location"] == "Body") then EquipOnChest(item, player,0)
		elseif(GlobalArmor[item:getType()]["Location"] == "Vest") then EquipOnVest(item, player,0)
		elseif(GlobalArmor[item:getType()]["Location"] == "Hands") then EquipOnHands(item, player,0)
		elseif(GlobalArmor[item:getType()]["Location"] == "Feet") then EquipOnFeet(item, player,0)
		elseif(GlobalArmor[item:getType()]["Location"] == "Shield") then EquipAsShield(item, player,0)
		
		elseif(GlobalArmor[item:getType()]["Location"] == "UpperArms") then EquipOnUpperArms(item, player,0) 		
		elseif(GlobalArmor[item:getType()]["Location"] == "LowerArms") then EquipOnLowerArms(item, player,0) 
		end
	end	
	old_ISUnequipAction_perform (self)
end



local old_ISEquipWeaponAction_perform = ISEquipWeaponAction.perform

function ISEquipWeaponAction:perform()
	local item = self.item
	local player = self.character
	local itemType = item:getType();   
	print("Test Equip Shield")
	print(item.getBodyLocation)
	
	-- if item.getBodyLocation == "Hat" then EquipOnHead(item, player,0) 
	
	-- elseif item.getBodyLocation == "Pants" then EquipOnLegs(item, player,0)
	
	-- elseif item.getBodyLocation == "Jacket" then EquipOnChest(item, player,0)
	
	-- elseif item.getBodyLocation == "TorsoExtra" then EquipOnVest(item, player,0)
	
	-- elseif item.getBodyLocation == "Hands" then EquipOnHands(item, player,0)
	
	-- elseif item.getBodyLocation == "Shoes" then EquipOnFeet(item, player,0)
	
	-- elseif item.getBodyLocation == "UpperArms" then EquipOnUpperArms(item, player,0)
	
	-- elseif item.getBodyLocation == "LowerArms" then EquipOnLowerArms(item, player,0)
	
	-- end
	
    --if GlobalArmor[itemType] ~= nil and GlobalArmor[itemType]["Location"] ~= nil then	
    if GlobalArmor[itemType] ~= nil and item.getBodyLocation == "Shield" then
		--print("Armor Yes!!!!!!!!!!")
		-- if(GlobalArmor[item:getType()]["Location"] == "Arms") then EquipOnArms(item, player,1) 
		-- elseif(GlobalArmor[item:getType()]["Location"] == "Head") then EquipOnHead(item, player,1) 
		-- elseif(GlobalArmor[item:getType()]["Location"] == "Legs") then EquipOnLegs(item, player,1)
		-- elseif(GlobalArmor[item:getType()]["Location"] == "Body") then EquipOnChest(item, player,1)
		-- elseif(GlobalArmor[item:getType()]["Location"] == "Vest") then EquipOnVest(item, player,1)
		-- elseif(GlobalArmor[item:getType()]["Location"] == "Hands") then EquipOnHands(item, player,1)
		-- elseif(GlobalArmor[item:getType()]["Location"] == "Feet") then EquipOnFeet(item, player,1)
		if(GlobalArmor[item:getType()]["Location"] == "Shield") then EquipAsShield(item, player,1)
		
		-- elseif(GlobalArmor[item:getType()]["Location"] == "UpperArms") then EquipOnUpperArms(item, player,1) 		
		-- elseif(GlobalArmor[item:getType()]["Location"] == "LowerArms") then EquipOnLowerArms(item, player,1) 
		end
	end		
	old_ISEquipWeaponAction_perform (self)
end